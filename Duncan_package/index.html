<html>
  <head>
    <title>CSCI 2720 Project</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel" src="../src/index.jsx"></script>
  </head>
  <body>
    <div id="app">Rendering...</div>
    <h1>Venues and Events</h1>
    <table id="venueTable">
      <thead>
          <tr>
              <th>Venue ID</th>
              <th>Venue Name</th>
              <th>Number of Events</th>
          </tr>
      </thead>
      <tbody>
          <!-- Rows will be added here by JavaScript -->
      </tbody>
  </table>

  <script>
      async function fetchVenues() {
          try {
              const response = await fetch('http://localhost:3000/venues');
              const venues = await response.json();

              const tableBody = document.querySelector('#venueTable tbody');
              tableBody.innerHTML = ''; // Clear existing rows

              venues.forEach(venue => {
                  const row = document.createElement('tr');

                  const venueIdCell = document.createElement('td');
                  venueIdCell.textContent = venue.id;
                  row.appendChild(venueIdCell);

                  const venueNameCell = document.createElement('td');
                  venueNameCell.textContent = venue.name;
                  row.appendChild(venueNameCell);

                  const eventCountCell = document.createElement('td');
                  eventCountCell.textContent = venue.eventCount;
                  row.appendChild(eventCountCell);

                  tableBody.appendChild(row);
              });
          } catch (error) {
              console.error('Error fetching venues:', error);
          }
      }

      // Fetch venues when the page loads
      window.onload = fetchVenues;
  </script>
  </body>
</html>
